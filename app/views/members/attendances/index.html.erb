<div class="container">
  <div class="row">
    <div class="mt-5 mx-auto col-8">
      <h2><%= "#{current_member.family_name}さんの練習予定" %></h2>
      <table border="2" class="table practice_index">
        <thead>
          <tr>
            <th>日付</th>
            <th>時間</th>
            <th>場所</th>
            <th>団体名</th>
            <th>譜面台</th>
            <th>出欠</th>
            <th>備考</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @orchestra.practices.each do |practice| %>
          <%#= form_with model:practice.attendance, url: {controller: "members", action: "attendance_update"}, method: :patch, local:true do |f| %>
            <tr>
              <td><%= practice.schedule %></td>
              <td><%= l practice.start_time, format: :short %>-<%= l practice.end_time, format: :short %></td>
              <td><%= practice.place %></td>
              <td><%= practice.orchestra.name %></td>
              <td><%= practice.stand? ? "不要" : "要" %></td>
              <td>
                <%#= f.select :attendance_status, [["未入力", "0"], ["出席", "1"], ["欠席", "2"], ["遅刻", "3"], ["早退", "4"]], selected: practice.attendances.find_by(member_id: current_member.id).attendance_status %>
                <%= practice.attendances.find_by(member_id: current_member.id).attendance_status %>
              </td>
              <td><%= practice.note.truncate(20, omission: '・・・') %></td>
              <td><%= link_to "変更", url:{controller: "members", action: "attendance_update"}, class:"btn" %></td>
            </tr>
          <%# end %>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>